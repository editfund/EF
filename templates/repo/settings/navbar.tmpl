<div class="flex-container-nav">
	<div class="ui fluid vertical menu">
		<div class="header item">{{ctx.Locale.Tr "repo.settings"}}</div>
		<a class="{{if .PageIsSettingsOptions}}active {{end}}item" href="{{.RepoLink}}/settings">
			{{ctx.Locale.Tr "repo.settings.options"}}
		</a>
		<a class="{{if .PageIsRepoSettingsUnits}}active {{end}}item" href="{{.RepoLink}}/settings/units">
			{{ctx.Locale.Tr "repo.settings.units.units"}}
		</a>
		{{if .Repository.UnitEnabled $.Context $.UnitTypeCode}}
		{{ $RepositoryIsCodeSubpage := or .PageIsSettingsBranches .PageIsSettingsTags .PageIsSettingsGitHooks .PageIsSettingsKeys .PageIsSettingsLFS}}
		<details class="item toggleable-item" {{if $RepositoryIsCodeSubpage}}open{{end}}>
			<summary {{if $RepositoryIsCodeSubpage}}class="active"{{end}}>{{ctx.Locale.Tr "repo.code"}}</summary>
			<div class="menu">
				{{if not .Repository.IsEmpty}}
					<a class="{{if .PageIsSettingsBranches}}active {{end}}item" href="{{.RepoLink}}/settings/branches">
						{{ctx.Locale.Tr "repo.settings.branches"}}
					</a>
				{{end}}
				<a class="{{if .PageIsSettingsTags}}active {{end}}item" href="{{.RepoLink}}/settings/tags">
					{{ctx.Locale.Tr "repo.settings.tags"}}
				</a>
				{{if .SignedUser.CanEditGitHook}}
					<a class="{{if .PageIsSettingsGitHooks}}active {{end}}item" href="{{.RepoLink}}/settings/hooks/git">
						{{ctx.Locale.Tr "repo.settings.githooks"}}
					</a>
				{{end}}
				<a class="{{if .PageIsSettingsKeys}}active {{end}}item" href="{{.RepoLink}}/settings/keys">
					{{ctx.Locale.Tr "repo.settings.deploy_keys"}}
				</a>
				{{if .LFSStartServer}}
					<a class="{{if .PageIsSettingsLFS}}active {{end}}item" href="{{.RepoLink}}/settings/lfs">
						{{ctx.Locale.Tr "repo.settings.lfs"}}
					</a>
				{{end}}
			</div>
		</details>
		{{end}}
		{{if and (.Repository.UnitEnabled $.Context $.UnitTypeIssues) (not .UnitTypeIssues.UnitGlobalDisabled) (not .UnitTypeExternalTracker.UnitGlobalDisabled)}}
		<a class="{{if .PageIsSettingsIssues}}active {{end}}item" href="{{.RepoLink}}/settings/issues">
			{{ctx.Locale.Tr "repo.issues"}}
		</a>
		{{end}}
		{{if and (.Repository.UnitEnabled $.Context $.UnitTypePullRequests) (not .UnitTypePullRequests.UnitGlobalDisabled)}}
		<a class="{{if .PageIsSettingsPulls}}active {{end}}item" href="{{.RepoLink}}/settings/pulls">
			{{ctx.Locale.Tr "repo.pulls"}}
		</a>
		{{end}}
		{{$isWikiEnabled := or (.Repository.UnitEnabled $.Context $.UnitTypeWiki) (.Repository.UnitEnabled $.Context $.UnitTypeExternalWiki)}}
		{{$isWikiGlobalDisabled := .UnitTypeWiki.UnitGlobalDisabled}}
		{{$isExternalWikiGlobalDisabled := .UnitTypeExternalWiki.UnitGlobalDisabled}}
		{{$isBothWikiGlobalDisabled := and $isWikiGlobalDisabled $isExternalWikiGlobalDisabled}}
		{{if and ($isWikiEnabled) (not $isBothWikiGlobalDisabled)}}
		<a class="{{if .PageIsSettingsWiki}}active {{end}}item" href="{{.RepoLink}}/settings/wiki">
			{{ctx.Locale.Tr "repo.wiki"}}
		</a>
		{{end}}
		<a class="{{if .PageIsSettingsCollaboration}}active {{end}}item" href="{{.RepoLink}}/settings/collaboration">
			{{ctx.Locale.Tr "repo.settings.collaboration"}}
		</a>
		{{if not DisableWebhooks}}
			<a class="{{if .PageIsSettingsHooks}}active {{end}}item" href="{{.RepoLink}}/settings/hooks">
				{{ctx.Locale.Tr "repo.settings.hooks"}}
			</a>
		{{end}}
		{{if and .EnableActions (not .UnitActionsGlobalDisabled) (.Permission.CanRead $.UnitTypeActions)}}
		<details class="item toggleable-item" {{if or .PageIsSharedSettingsRunners .PageIsSharedSettingsSecrets .PageIsSharedSettingsVariables}}open{{end}}>
			<summary>{{ctx.Locale.Tr "actions.actions"}}</summary>
			<div class="menu">
				<a class="{{if .PageIsSharedSettingsRunners}}active {{end}}item" href="{{.RepoLink}}/settings/actions/runners">
					{{ctx.Locale.Tr "actions.runners"}}
				</a>
				<a class="{{if .PageIsSharedSettingsSecrets}}active {{end}}item" href="{{.RepoLink}}/settings/actions/secrets">
					{{ctx.Locale.Tr "secrets.secrets"}}
				</a>
				<a class="{{if .PageIsSharedSettingsVariables}}active {{end}}item" href="{{.RepoLink}}/settings/actions/variables">
					{{ctx.Locale.Tr "actions.variables"}}
				</a>
			</div>
		</details>
		{{end}}
	</div>
</div>
